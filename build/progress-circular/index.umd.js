(function(i,l){typeof exports=="object"&&typeof module<"u"?l(exports,require("vue"),require("vue-demi")):typeof define=="function"&&define.amd?define(["exports","vue","vue-demi"],l):(i=typeof globalThis<"u"?globalThis:i||self,l(i.index={},i.Vue,i.VueDemi))})(this,function(i,l,e){"use strict";function m(t,r){const a=e.ref(),o=e.shallowRef(!1),s=new IntersectionObserver(n=>{o.value=!!n.find(c=>c.isIntersecting)},r);return e.onBeforeUnmount(()=>{s.disconnect()}),e.watch(a,(n,c)=>{c&&(s.unobserve(c),o.value=!1),n&&s.observe(n)},{flush:"post"}),{intersectionRef:a,isIntersecting:o}}function N(t){if(t&&"$el"in t){const r=t.$el;return(r==null?void 0:r.nodeType)===Node.TEXT_NODE?r.nextElementSibling:r}return t}function R(){const t=e.shallowRef(),r=a=>{t.value=a};return Object.defineProperty(r,"value",{enumerable:!0,get:()=>t.value,set:a=>t.value=a}),Object.defineProperty(r,"el",{enumerable:!0,get:()=>N(t.value)}),r}function b(t,r="content"){const a=R(),o=e.ref(),s=new ResizeObserver(n=>{n.length&&(r==="content"?o.value=n[0].contentRect:o.value=n[0].target.getBoundingClientRect())});return e.onBeforeUnmount(()=>{s.disconnect()}),e.watch(()=>a.el,(n,c)=>{c&&(s.unobserve(c),o.value=void 0),n&&s.observe(n)},{flush:"post"}),{resizeRef:a,contentRect:e.readonly(o)}}const C=["modelValue","color","indeterminate","width"],w=e.defineComponent({name:"DProgressCircular",model:{prop:"modelValue",event:"update:modelValue"},props:C,setup(t,{slots:r}){const o=2*Math.PI*20,s=e.ref(),{intersectionRef:n,isIntersecting:c}=m(),{resizeRef:I,contentRect:h}=b(),f=e.computed(()=>Math.max(0,Math.min(100,t.modelValue||0))),v=e.computed(()=>Number(t.width||4)),d=e.computed(()=>h.value?h.value.width:Math.max(v.value,32)),p=e.computed(()=>20/(1-v.value/d.value)*2),g=e.computed(()=>v.value/d.value*p.value),T=(u,y="px")=>{if(!(u==null||u===""))return isNaN(+u)?String(u):isFinite(+u)?`${Number(u)}${y}`:void 0},_=e.computed(()=>T((100-f.value)/100*o));return e.watchEffect(()=>{n.value=s.value,I.value=s.value}),()=>l.createVNode("div",{ref:s,class:["d-progress-circular",{"d-progress-circular--indeterminate":!!t.indeterminate,"d-progress-circular--visible":c.value}],style:{color:t.color||"black",width:d.value+"px",height:d.value+"px"},role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:f.value},[l.createVNode("svg",{style:{transform:"rotate(-90deg)"},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${p.value} ${p.value}`},[l.createVNode("circle",{class:["d-progress-circular__underlay"],fill:"transparent",cx:"50%",cy:"50%",r:20,"stroke-width":g.value,"stroke-dasharray":o,"stroke-dashoffset":0},null),l.createVNode("circle",{class:"d-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:20,"stroke-width":g.value,"stroke-dasharray":o,"stroke-dashoffset":_.value},null)]),r.default&&l.createVNode("div",{class:"d-progress-circular__content"},[r.default({value:f.value})])])}});i.DProgressCircular=w,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});
